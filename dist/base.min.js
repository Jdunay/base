/* base.min.js v0.0.15 */ 
!function(a){a.adaptors.backboneAssociatedModel=function(a,b){var c,d,e,f,g,h,i,j;return b&&(b+=".",g=new RegExp("^"+b.replace(/\./g,"\\.")),h=b.length),j=function(b){var c,d,e,g;c=b.split(":"),d=c[0],e=c[1],"change"===d&&e&&(g=a.get(e),g&&g.toJSON&&(g=g.toJSON()),f(e,g))},{init:function(k){b?(i=function(a){var c,d;d={};for(c in a)({}).hasOwnProperty.call(a,c)&&(d[b+c]=a[c]);return d},f=function(b,e){if(!c){d=!0;var f={};f[b]=e,k.set(i(a.changed)),d=!1}},e=function(b,e){d||g.test(b)&&(c=!0,a.set(b.substring(h),e),c=!1)}):(f=function(a,b){c||(d=!0,k.set(a,b),d=!1)},e=function(b,e){d||(c=!0,a.set(b,e),c=!1)}),a.on("all",j),k.on("set",e),k.set(b?i(a.toJSON()):a.toJSON())},teardown:function(b){a.off("all",j),b.off("set",e)}}}}(window.Ractive||require&&require("ractive")),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E={}.hasOwnProperty,F=function(a,b){function c(){this.constructor=a}for(var d in b)E.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},G=[].slice;for(l=window.Base,j=null,e={},null==window._JST&&(window._JST={}),f=[],g=/\s*[,:()]+\s*/,c="blur, focus, focusin, focusout, load, resize, scroll,  unload, click, dblclick, mousedown, mouseup, mousemove, mouseover,  mouseout, mouseenter, mouseleave, change, select, submit, keydown,  keypress, keyup, error, touchstart, touchend, touchmove".split(/\s*,\s*/),a=function(){function a(){a.__super__.constructor.apply(this,arguments)}return a}(),_.extend(a.prototype,Backbone.Events),a.noConflict=function(){return window.Base=l,a},a.config={debug:{logModelChanges:!1}},a.View=function(b){function e(b){var c,f,g,h,i,j,k,l,m,n=this;for(this.options=null!=b?b:{},null==this.name&&(this.name=this.constructor.name),null==this.attributes&&(this.attributes={}),null==(i=this.attributes)["data-view"]&&(i["data-view"]=this.name.replace(/view/i,"").toLowerCase()),null==this.children&&(this.children=new a.List(this.options.children||[])),this.stateOptions=_.defaults(this.stateOptions||{},{relations:this.relations,compute:this.compute}),null==this.relations&&(this.relations={}),this.relations.$state=a.State,d(this),this._bindEvents(),e.__super__.constructor.apply(this,arguments),this._bindAttributes(),l=["view","all"],j=0,k=l.length;k>j;j++){g=l[j],m=a.plugins[g];for(f in m)h=m[f],c=this.plugins&&this.plugins[f]||a.defaults.view.plugins[f]||a.defaults.all.plugins[f],c&&h.call(this,this,c)}this._bindEventMethods(),this.state.on("all",function(){var a;return a=1<=arguments.length?G.call(arguments,0):[],n.trigger.apply(n,a)}),this.trigger("init"),this.$el.data("view",this),this._bindEventBubbling(),this._bindSpecialCallbacks(),this._bindSpecialEventMethods()}return F(e,b),e.prototype.moduleType="view",e.prototype._bindAttributes=function(){var a,b,c,d,e,f=this;if(this.bindAttributes){for(d=this.bindAttributes,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(function(a){return f.$el.attr("data-"+a,f.get(a)),f.on("change:"+a,function(b,c){return f.$el.attr("data-"+a,c)})}(a));return e}},e.prototype._bindEventMethods=function(){var a,b,d,e,f;for(f=[],d=0,e=c.length;e>d;d++)b=c[d],a=this["on"+h(b)],a?f.push(this.$el.on(""+b+".delegateEvents",a.bind(this))):f.push(void 0);return f},e.prototype._getCallback=function(a,b){var c,d,e;return _.isFunction(a)?a:(d=_.compact(a.split(g)),!d[1]&&b?a:(c=function(){var a,b,c,f;for(c=d.slice(1),f=[],a=0,b=c.length;b>a;a++)e=c[a],f.push($.zepto.deserializeValue(e));return f}(),this[d[0]].bind(this,c)))},e.prototype._bindEvents=function(){var a,b,c,d,e,f,i,j,k,l,m,n,o,p,q,r;if(this.events){n=this.events;for(d in n)j=n[d],j&&j.split&&g.test(j)&&(this.events[d]=this._getCallback(j))}"object"!=typeof this.bind&&(this.bind={});for(d in this)for(j=this[d],o=["document","window"],l=0,m=o.length;m>l;l++)c=o[l],f="on"+h(c),0===d.indexOf(f)&&(null==(k=this.bind)[c]&&(k[c]={}),this.bind[c][d.split(f)[1].toLowerCase()]=j);p=this.bind,r=[];for(d in p)j=p[d],"function"==(q=typeof j)||"string"===q?j?r.push(this.on(d,this._getCallback(j).bind(this))):r.push(void 0):"document"===d||"window"===d?(i="document"===d?document:window,a=$(i),r.push(function(){var c;c=[];for(e in j)b=j[e],c.push(a.on(""+e+".delegateEvents-"+this.cid,this._getCallback(b).bind(this)));return c}.call(this))):r.push(void 0);return r},e.prototype.render=function(){return this.trigger("before:render"),this.beforeRender&&this.beforeRender(),this.ractive&&this._initRactive(),this.trigger("render"),this._bindComponents(),this.afterRender&&this.afterRender(),this.trigger("after:render")},e.prototype._bindSpecialEventMethods=function(){var a=this;return this.on("all",function(){var b,c,d,e;return d=arguments[0],b=2<=arguments.length?G.call(arguments,1):[],(c=$.camelCase(d))?(e=a["on"+c[0].toUpperCase()+c.substring(1)],e?e.apply(a,b):void 0):void 0})},e.prototype._bindSpecialCallbacks=function(){var a,b,c,d,e,f=this;d=this.events,e=[];for(a in d)if(c=d[a],"string"==typeof c)if(b=c.split(":"),b[1])switch(spit[0]){case"set":e.push(this.events[a]=function(){return f.set(b[1].trim(),f.get(b[2].trim()))});break;case"toggle":e.push(this.events[a]=function(){return f.toggle(b[1])});break;default:e.push(void 0)}else e.push(void 0);else e.push(void 0);return e},e.prototype._bindComponents=function(){var b,c,d,e,f,g=this;e=a.components,f=[];for(c in e)d=e[c],b=this.ractive.fragment.items||[],f.push(this.$("x-"+c,b.map(function(a){return a.node})).each(function(a,b){var c,e,f,h,i,j;for(c=$(b),f={},j=b.attributes,h=0,i=j.length;i>h;h++)e=j[h],f[e.name]=e.value;return d.call(g,c,g,f)}));return f},e.prototype._parseObjectGetter=function(a){return a},e.prototype._parseTemplate=function(){},e.prototype._parseDOM=function(){var a,b;return a=function(b){var c,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s;for(d={},r=b.attributes,s=[],n=0,p=r.length;p>n;n++){if(c=r[n],i=c.name,m=c.value,f=d[i]=[],/\{\{.*\}\}/.test(m))for(l=f.split(/\{\{|\}\}/),g=o=0,q=l.length;q>o;g=++o)h=l[g],j=g%2,j?(k=_.compact(h.split(/\s+|[\(\)+=-><%\/&!^\|]+/)),f.push({fn:new Function("return "+h),props:k})):f.push(h);s.push({attrs:d,children:function(){var c,d,f,g;for(f=b.chidren,g=[],c=0,d=f.length;d>c;c++)e=f[c],g.push(a(e));return g}()})}return s},b=a(this.el)},e.prototype._initRactive=function(){var b,c,d,e,f,g,h,i,k,l=this;if(this.options.ractive||this.ractive){c=_.clone(a.filters);for(d in c)h=c[d],h&&h.bind&&(c[d]=h.bind(this));f="src/templates/views/"+$.dasherize(this.name)+".html",e=this.template||_.clone(_JST[f])||"",this.ractive=new Ractive({el:this.el,template:e,data:_.extend(this.toJSON(),{$view:this,$filter:a.filters,$base:a})});for(d in this)g=this[d],"function"==typeof g&&"_"!==d[0]&&!function(a,b){return l.ractive.on(a,function(a,c){return null==c&&(c=""),"string"!=typeof c&&(c=""),b.apply(l,c.split(":").map(function(a){return $.zepto.deserializeValue(a.trim())}))})}(d,g);b=Ractive.adaptors.backboneAssociatedModel,this.ractive.bind(b(this.state)),this.ractive.bind(b(j.state,"$app")),i=app.singletons,k=[];for(d in i)g=i[d],g instanceof a.Model||g instanceof a.Collection?k.push(this.ractive.bind(b(g,"$"+d))):k.push(void 0);return k}},e.prototype._bindEventBubbling=function(){var a=this;return this.on("all",function(){var b;return b=1<=arguments.length?G.call(arguments,0):[],a.broadcast.apply(a,b),a.emit.apply(a,b)})},e.prototype.trigger=function(){var b,c;return c=arguments[0],b=2<=arguments.length?G.call(arguments,1):[],b[0]instanceof a.Event?b[0].currentTarget=this:b.unshift(new a.Event({name:c,target:this,currentTarget:this})),e.__super__.trigger.apply(this,arguments)},e.prototype.get=function(a){var b,c;if(a)return b=this.state,c=a,0===a.indexOf("$")&&(c=a.split(".").slice(1).join("."),b=0===a.indexOf("$app.")?app:app.singletons[a.split(".")[0].substring(1)]),b.get(c)},e.prototype.subView=function(a,b){if(!b){if("string"==typeof a)return this.childView(a);b=a,a=null}return b instanceof e||(b=new b(args)),b.__viewName__=a,b.parent=this,this.children.push(b)},e.prototype.insertView=function(a,b){return b||(b=a,a=null),this.subView(b),a?this.$(a).append(b.$el):this.$el.append(b.$el),this},e.prototype.parentView=function(a,b){return this.parentViews(a,b)},e.prototype.findView=function(a){return this.findViews(a,!0)},e.prototype.childView=function(a){return this.childViews(a,!0)},e.prototype.childViews=function(a,b){return this.findViews(a,b,!0)},e.prototype.parentViews=function(a,b){var c,d;if(d=[],a){for(c=this;c=c.parent;)if(c.is&&c.is(a)){if(b)return c;d.push(c)}}else{if(b)return this.parent;d.push(this.parent)}return d},e.prototype.findViews=function(a,b,c){var d,e,f;return f=[],d=void 0,e=function(g){var h,i,j,k,l;for(k=g.children,l=[],i=0,j=k.length;j>i;i++){if(h=k[i],h.is(a)&&(f.push(h),b)){d=h;break}h&&!c?l.push(e(h)):l.push(void 0)}return l},e(this),b?d:f},e.prototype.is=function(a){var b,c,d,e,f,g;if(!a||a===this||this.$el.is(a))return!0;switch(typeof a){case"string":return e=function(a){return a.toLowerCase().replace(/view$/i,"")},d=e(a),c=this.__viewName__,e(this.name||"")===d||e(c||"")===d;case"function":return!!a(this);default:for(b in a)if(g=a[b],f=this.get(b),null==f&&(f=this[b]),g!==f)return!1;return!0}},e.prototype.destroy=function(){return this.ractive&&this.ractive.off&&(this.ractive.teardown(),this.ractive.unbind()),$([document,window]).off(".delegateEvents-"+this.cid),this.state.off(),this.state.stopListening(),this.state.cleanup()&&this.state.cleanup(),this.trigger("destroy"),this.cleanup&&this.cleanup(),this.$el.removeData("view"),this.$el.off(),this.off(),this.undelegateEvents(),this.remove(),this.parent?this.parent.children.splice(this.parent.children.indexOf(this),1):void 0},e.prototype.request=function(){var b,c,d,e,f,g,i;for(d=arguments[0],b=2<=arguments.length?G.call(arguments,1):[],f=this,i=[];f=f.parent;){if(e=f["onRequest"+h(d)]||_.last(child._events["request:"+d])){c=new a.Event({type:"request",target:this}),g=e.callback.apply(e.ctx,[c].concat(b));break}i.push(void 0)}return i},e.prototype.emit=function(){var b,c,d,e,f,g,h,i,j,k;if(d=arguments[0],b=2<=arguments.length?G.call(arguments,1):[],g=this.parent)if(/^(child:|request:)/.test(d)){if(c=b[0],null==c&&(c=new a.Event({type:d,target:this})),!c.propagationStopped)return c.currentTarget=g,g.trigger.apply(g,arguments)}else if(!/^(app:|parent:|firstChild:|firstParent:)/.test(d)){for(e=m(this.name),c=new a.Event({name:d,target:this,currentTarget:g}),j=["child:"+d,"child:"+e+":"+d,"firstChild:"+d,"firstChild:"+e+":"+d],k=[],h=0,i=j.length;i>h;h++)f=j[h],k.push(g.trigger.apply(g,[f,c].concat(b)));return k}},e.prototype.broadcast=function(){var b,c,d,e,f,g,h,i,j,k,l,n,o,p,q;if(e=arguments[0],b=2<=arguments.length?G.call(arguments,1):[],this.children)if(/^(parent:|app:)/.test(e)){if(d=b[0]||new a.Event({type:e,target:this}),!d.propagationStopped)for(d.currentTarget=c,o=this.children,h=0,k=o.length;k>h;h++){if(c=o[h],d.propagationStopped)return;c.trigger.apply(c,arguments)}}else if(!/^(child:|request:|firstParent:|firstChild:)/.test(e))for(f=m(this.name),d=new a.Event({name:e,target:this}),p=this.children,i=0,l=p.length;l>i;i++)for(c=p[i],d.currentTarget=c,q=["parent:"+e,"parent:"+f+":"+e,"firstParent:"+e,"firstParent:"+f+":"+e],j=0,n=q.length;n>j;j++){if(g=q[j],d.propagationStopped)return;c.trigger.apply(c,[g,d].concat(b))}},e}(Backbone.View),z=["get","set","toJSON","has","unset","escape","changed","clone","keys","values","pairs","invert","pick","omit","clear","toggle"],n=function(b){var c;return null!=(c=a.View.prototype)[b]?(c=a.View.prototype)[b]:c[b]=function(){var a;return a=1<=arguments.length?G.call(arguments,0):[],this.state[b].apply(this.state,a)}},p=0,t=z.length;t>p;p++)k=z[p],n(k);for(a.App=function(a){function b(){var a,c;j=this;for(a in e)c=e[a],j[a]=c;e=null,null==this.template&&(this.template=_JST["src/templates/app.html"]),b.__super__.constructor.apply(this,arguments)}return F(b,a),b.prototype.views={},b.prototype.singletons={},b.prototype.collections={},b.prototype.models={},b.prototype.broadcast=function(){var a,b,c,d,e,f,g;if(c=arguments[0],a=2<=arguments.length?G.call(arguments,1):[],this.children&&!/^(child:|request:|firstParent:|firstChild:)/.test(c)){for(f=this.children,g=[],d=0,e=f.length;e>d;d++)b=f[d],g.push(b.trigger.apply(b,["app:"+c].concat(a)));return g}},b.prototype.moduleType="app",b}(a.View),a.Model=function(b){function c(b,e){var f,g,h,i=this;null==b&&(b={}),null==e&&(e={}),null==this.name&&(this.name=this.constructor.name),h=_.extend(e.compute||{},this.compute);for(f in h)g=h[f],this.computeProperty(f,g);this instanceof a.State||(null==this.relations&&(this.relations={}),this.relations.$state=a.State),this._mapRelations(_.extend({},this.relations,e.relations)),c.__super__.constructor.apply(this,arguments),d(this),a.config.debug.logModelChanges&&this.on("change",function(){var a;try{return console.log(JSON.stringify(i.toJSON(),null,2))}catch(b){return a=b,console.log(a)}})}return F(c,b),c.prototype.destroy=function(){return this.off(),this.stopListening(),c.__super__.destroy.apply(this,arguments)},c.prototype.blacklist=[],c.prototype._mapRelations=function(a){var c,d,e,f;if(null==a&&(a=this.relations),null==this.defaults&&(this.defaults={}),a&&!_.isArray(a)){e=[];for(d in a){for(f=a[d],c=!1,b=f;b=b.__super__;)b===Backbone.Collection.prototype&&(c=!0);e.push({key:d,type:c?"Many":"One",collectionType:c?f:void 0,relatedModel:c?f.prototype.model:f})}return this.relations=e}},c.prototype.toJSON=function(a){var b;return b=Backbone.AssociatedModel.prototype.toJSON.call(this),a?b:_.omit(b,this.blacklist)},c.prototype.computeProperty=function(a,b){var c,d,e,f,g,h,i=this;switch(b=_.clone(b),$.type(b)){case"object":d=b;break;case"array":d={fn:b.pop(),triggers:b}}for(this.blacklist.push(a),c=function(){var b,c;return c=d.triggers.map(function(a){return i.get(a)}),b=d.fn.apply(i,c),i.set(a,b)},h=d.triggers,f=0,g=h.length;g>f;f++)e=h[f],this.on("change:"+e,c);try{return c()}catch(j){}},c.prototype.toggle=function(a){return this.set(a,!this.get(a))},c.prototype.moduleType="model",c}(Backbone.AssociatedModel),a.State=function(a){function b(a,c,d){var e,f,g;if(null==c&&(c={}),null==this.relations&&(this.relations={}),d&&d.relations){g=d.relations;for(e in g)f=g[e],this.relations[e]=f}null==this.compute&&(this.compute=c.compute),b.__super__.constructor.call(this,a,c),this.parent=this.parents[0]||d,null==this.name&&(this.name=lowercase(this.constructor.name)),this.parent&&this.on("all",function(){var a=this;return function(){var b,c;return c=arguments[0],b=2<=arguments.length?G.call(arguments,1):[],a.parent.trigger.apply(a.parent,["state:"+c].concat(b))}})}return F(b,a),b}(a.Model),a.Router=function(a){function b(){null==this.name&&(this.name=this.constructor.name),d(this),b.__super__.constructor.apply(this,arguments)}return F(b,a),b.prototype.go=function(a){return this.navigate(a,!0)},b.prototype.destroy=function(){return this.off(),this.stopListening()},b.prototype.moduleType="router",b}(Backbone.Router),a.Collection=function(b){function c(){c.__super__.constructor.apply(this,arguments),null==this.name&&(this.name=this.constructor.name),d(this)}return F(c,b),c.prototype.destroy=function(){return this.off(),this.stopListening()},c.prototype.model=a.Model,c.prototype.moduleType="collection",c}(Backbone.Collection),a.Singleton=function(a){function b(){var a,c,d=this;b.__super__.constructor.apply(this,arguments),null==(a=j||e)[c=m(this.name)]&&(a[c]=this),(j||e).singletons[m(this.name)]=this,this.on("all",function(){var a,b;return b=arguments[0],a=2<=arguments.length?G.call(arguments,1):[],j?j.trigger.apply(j,[""+m(d.name)+":"+b].concat(a)):void 0})}return F(b,a),b}(a.Model),a.List=function(){function a(a,b){null==b&&(b={}),this.reset(a,b)}return a.prototype.unshift=function(){var a,b,c,d,e,f;for(b=1<=arguments.length?G.call(arguments,0):[],e=b.reverse(),f=[],c=0,d=e.length;d>c;c++)a=e[c],f.push(this.add(a,{at:0}));return f},a.prototype.push=function(){var a,b,c,d,e;for(b=1<=arguments.length?G.call(arguments,0):[],e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(this.add(a,{at:this.length}));return e},a.prototype.shift=function(){return this.remove(null,{at:0})},a.prototype.pop=function(){return this.remove(null,{at:this.length-1})},a.prototype.reset=function(a,b){return null==b&&(b={}),this.splice(this.length,this.length),this.push.apply(this,a),b.silent?void 0:this.trigger("reset",this,b)},a.prototype.add=function(a,b){var c;return null==b&&(b={}),c=null!=b.at?b.at:b.at=this.length,this.splice(c,null,a),b.silent?void 0:this.trigger("add",a,this,b)},a.prototype.remove=function(a,b){var c;return null==b&&(b={}),c=b.at||this.indexOf(a),null==a&&(a=this[c]),this.splice(c,1),b.silent||this.trigger("remove",a,this,b),a},a}(),_.extend(a.List.prototype,Backbone.Events),A=["splice","indexOf","lastIndexOf","join","reverse","sort","valueOf","map","forEach","every","reduce","reduceRight","filter","some"],q=0,u=A.length;u>q;q++)k=A[q],a.List.prototype[k]||(a.List.prototype[k]=f[k]);for(B=["each","contains","find","filter","reject","contains","max","min","sortBy","groupBy","sortedIndex","shuffle","toArray","size","first","last","initial","rest","without","isEmpty","chain","where","findWhere","clone","pluck","invoke"],r=0,v=B.length;v>r;r++)k=B[r],a.List.prototype[k]||(a.List.prototype[k]=_[k]);for(a.Object=function(){function a(){}return a}(),_.extend(a.Object.prototype,Backbone.Events),a.Event=function(){function a(a){this.options=a,_.extend(this,this.options),null==this.currentTarget&&(this.currentTarget=this.target)}return a.prototype.preventDefault=function(){return this.defaultPrevented=!0},a.prototype.stopPropagation=function(){return this.propagationStopped=!0},a}(),b=function(a){function b(a){var c,d,e,f=this;null==a&&(a={}),null==this.name&&(this.name=a.name||(a.model&&a.model.name?a.model.name+":view":void 0)),e=a.view,d=a.html,c=a.data,this.ractive=!!e.ractive,a.path&&(this.relations={model:e.get(a.path).model}),null==this.template&&(this.template=d),b.__super__.constructor.apply(this,arguments),a.model&&this.set("model",a.model),d&&this.set("html",d),this.ractive?this.render():this.$el.html(d),c&&(c.toJSON?(this.set(c.toJSON()),this.listenTo(c,"all",function(a){var b,d,e;return e=a.split(":"),b=e[0],d=e[1],"change"===b&&d?f.set(keyPath,c.get(keyPath)):void 0})):this.set(c))}return F(b,a),b}(a.View),h=function(a){return a?a[0].toUpperCase()+a.substring(1):""},d=function(b){var c,d,e=this;return b instanceof a.State?void 0:(d=b.state||{},null==b.blacklist&&(b.blacklist=[]),b.blacklist.push("$state"),b instanceof a.Model?(b.set("$state",_.defaults(d,b.stateDefaults)),c=b.state=b.get("$state")):(d=_.defaults(d,b.stateDefaults||b.defaults),c=b.state=new a.State(d,b.stateOptions,b),null==c.associations&&(c.associations=[]),c.associations.push({type:"one",key:"$parent",relatedModel:a.State}),this.parent&&this.parent.state&&(c.set("$parent",this.parent.state.toJSON()),this.listenTo(this.parent.state,"all",function(a){var b;return b=a.split(":"),"change"===b[0]&&b[1]?e.set("$state."+b[1],c.get(b[1])):void 0}))),b instanceof a.View&&c.set("$state",c),c.on("all",function(){var a,c,d;return c=arguments[0],a=2<=arguments.length?G.call(arguments,1):[],d=c.split(":"),"change"===d[0]&&d[1]?b.trigger.apply(["change:$state."+d[1]].concat(a)):void 0}))},m=function(a){return a?a[0].toLowerCase()+a.substring(1):""},a.components={collection:function(a,c,d){var e,f,g,i,k,l=this;return null==d&&(d={}),k=d.path||d.collection,i=d.name,e=j.views[h(d.view)]||b,f=a.html(),a.empty(),g=function(b){return l.insertView(a,new e(_.extend({data:b,html:f,view:c,parent:l,name:i,path:k,model:b},d)))},this.on("reset:"+k,function(){var a,b,d,e,f;for(e=l.childViews(c),f=[],b=0,d=e.length;d>b;b++)a=e[b],f.push(a.destroy());return f}),this.on("remove:"+k,function(a){return l.childView({model:a}).destroy()}),this.on("add:"+k,g),this.get(k).each(g)},view:function(a,c,d){var e,f,g,i,k;return k=d.view||d.type,e=j.views[h($.camelCase(k))]||b,i=d.name,f=this.get(d.data)||c.state,g=a.html(),a.empty(),this.subView(new e(_.extend({el:a[0],html:g,view:c,name:i,data:f},d)))},log:function(a,b,c){var d,e,f;e={};for(d in c)f=c[d],e[d]=this.get(f);return console.log("x-log:",e),a.remove()},list:function(){}},a.plugins={view:{ractive:function(){},actions:function(){var a,b,d,e,f=this;for(e=[],b=0,d=c.length;d>b;b++)a=c[b],e.push(function(a){var b;return b=function(b){var c,d,e;return c=$(b.currentTarget),d=c.attr("action-"+a)||c.attr("data-action-"+a),e=f._getCallback(d),e.call(f)},f.$el.on(a,"[data-action-"+a+"], [action-"+a+"]",_.debounce(b,1,!0))}(a));return e},outlets:function(){var a,b=this;return a=[],this.on("render",function(){var c,d,e,f,g,h,i,j,k,l,m;for(k=$("[outlet], [data-outlet]",b.ractive.fragment.items),m=[],i=0,j=k.length;j>i;i++)if(d=k[i],c=$(d),g=$.camelCase(c.attr("data-outlet")||c.attr("outlet")),_.contains(a,g))m.push(void 0);else{a.push(g),b.$[g]=b.$("[data-outlet='"+g+"'], [outlet='"+g+"']"),e=[];for(f in b)h=b[f],new RegExp("on(.*)?"+g,"i").test(f)&&e.push(RegExp.$1.toLowerCase());l=b._events;for(f in l)h=l[f],new RegExp("^([^:]*?):"+g,"i").test(f)&&e.push(RegExp.$1.toLowerCase());m.push(c.on(e.join,function(a){return b.trigger([event.type,g].join(":"),a)}))}return m})}},all:{state:function(){}}},a.filters={uncapitalize:function(a){return a&&a[0].toLowerCase()+a.substring(1)||""},capitalize:function(a){return a&&a[0].toUpperCase()+a.substring(1)||""},uppercase:function(a){return a.toUpperCase()},lowercase:function(a){return a.toLowerCase()},json:function(a){return JSON.stringify(a,null,2)},orderBy:function(a,b,c){return a=a.sort(function(a){return a[b]}),c?a.reverse():a}},a.defaults={all:{plugins:{state:!0}},view:{plugins:{actions:!1,outlets:!0,filters:!0,ractive:!0,components:!0,manage:!0,eventSugar:!0}},model:{plugins:{}},router:{plugins:{}},collection:{plugins:{}}},C=["Model","Router","Collection","View"],s=0,w=C.length;w>s;s++)for(i=C[s],D=["get","set","on","listenTo","off","stopListening","once","listenToOnce","trigger","clear","has","invert","omit","pick","sync","fetch","save","changed","validate","isValid","clone","hasChanged","previous","destroy"],o=function(b){return a[i].prototype["state"+h(b)]=function(){var a;return a=1<=arguments.length?G.call(arguments,0):[],this.state[b].apply(this.state,a)}},y=0,x=D.length;x>y;y++)k=D[y],o(k);a.Controller=a.View,window.Base=a}.call(this);